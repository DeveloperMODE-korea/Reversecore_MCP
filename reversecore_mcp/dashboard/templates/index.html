{% extends "base.html" %}
{% block title %}Overview - Reversecore MCP{% endblock %}

{% block content %}
<div class="page-header">
    <h2>üìÅ Workspace Overview</h2>
    <p class="subtitle">{{ workspace }}</p>
</div>

<div class="stats-grid">
    <div class="stat-card">
        <span class="stat-value">{{ file_count }}</span>
        <span class="stat-label">Files</span>
    </div>
    <div class="stat-card">
        <span class="stat-value">0</span>
        <span class="stat-label">Analyzed</span>
    </div>
    <div class="stat-card">
        <span class="stat-value">0</span>
        <span class="stat-label">IOCs Found</span>
    </div>
</div>

<div class="section">
    <h3>üìÑ Files in Workspace</h3>

    {% if files %}
    <table class="file-table">
        <thead>
            <tr>
                <th>Filename</th>
                <th>Size</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for file in files %}
            <tr>
                <td class="filename">{{ file.name }}</td>
                <td class="filesize">{{ (file.size / 1024)|round(1) }} KB</td>
                <td class="actions">
                    <a href="/dashboard/analysis/{{ file.name_raw | urlencode }}" class="btn btn-primary">Analyze</a>
                    <a href="/dashboard/iocs/{{ file.name_raw | urlencode }}" class="btn btn-secondary">IOCs</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div class="empty-state">
        <p>No files in workspace yet.</p>
        <p>Upload a binary using the MCP client or HTTP API.</p>
    </div>
    {% endif %}
</div>
{% endblock %}
