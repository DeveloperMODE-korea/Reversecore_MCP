# Reversecore MCP 서버 성능 개선 비교 리포트

## 분석 대상 파일
- **파일명**: `EverPlanet_KR_v1842_U_DEVM.exe`
- **파일 크기**: 11,158,016 bytes (약 10.64 MB)
- **파일 타입**: PE32 executable (GUI) Intel 80386, for MS Windows
- **파일 종류**: 게임 클라이언트 (악성코드 아님)
- **분석 일시**: 2025-11-20
- **MCP 서버 버전**: 업데이트 버전 (속도 개선)

---

## 1. 핵심 개선 사항 요약

### 1.1 이전 타임아웃 도구의 성공 ⭐ **주요 개선**

**이전에 타임아웃으로 실패했던 도구 중 3개가 성공했습니다!**

| 도구명 | 이전 상태 | 현재 상태 | 실행 시간 | 개선 효과 |
|--------|----------|----------|----------|----------|
| `run_radare2` (ii) | ❌ 타임아웃 (81초) | ✅ **성공** | **29,032ms** (29.0초) | **52초 단축** |
| `run_radare2` (afl) | ❌ 타임아웃 (81초) | ✅ **성공** | **20,355ms** (20.4초) | **61초 단축** |
| `run_radare2` (pdf) | ❌ 타임아웃 (81초) | ✅ **성공** | **32,652ms** (32.7초) | **48초 단축** |

**총 개선 효과**: 이전에는 243초(81초 × 3)가 소요되었지만, 현재는 82초로 **161초 단축 (66% 개선)**

### 1.2 기존 도구의 성능 변화

| 도구명 | 이전 실행 시간 | 현재 실행 시간 | 변화 | 평가 |
|--------|--------------|--------------|------|------|
| `run_file` | 46ms | **31ms** | **-33%** | ⭐ 개선 |
| `parse_binary_with_lief` | 412ms | **6,843ms** | +1,561% | ⚠️ 느려짐 |
| `run_binwalk` | 694ms | **1,423ms** | +105% | ⚠️ 느려짐 |
| `list_workspace` | 11ms | **13ms** | +18% | ✅ 정상 범위 |

---

## 2. 전체 도구 호출 결과 및 실행 시간

### 2.1 성공한 도구 (총 13개)

| 도구명 | 상태 | 실행 시간 | 결과 크기 | 비고 |
|--------|------|----------|----------|------|
| `list_workspace` | ✅ 성공 | **13ms** | - | 매우 빠름 |
| `run_file` | ✅ 성공 | **31ms** | 109 bytes | 빠름 (이전 46ms → 개선) |
| `parse_binary_with_lief` | ✅ 성공 | **6,843ms** | - | PE 구조 분석 (이전 412ms) |
| `run_strings` | ✅ 성공 | - | 329.9 KB | 파일로 저장 |
| `run_binwalk` | ✅ 성공 | **1,423ms** | 2,360 bytes | 임베디드 콘텐츠 (이전 694ms) |
| `run_radare2` (ie) | ✅ 성공 | **120ms** | 0 bytes | 엔트리 포인트 |
| `run_radare2` (iz) | ✅ 성공 | **116ms** | 0 bytes | 문자열 추출 |
| `run_radare2` (ii) | ✅ **성공** | **29,032ms** | 22,573 bytes | **이전 타임아웃 → 성공** |
| `run_radare2` (afl) | ✅ **성공** | **20,355ms** | 94 bytes | **이전 타임아웃 → 성공** |
| `run_radare2` (pdf) | ✅ **성공** | **32,652ms** | 177 bytes | **이전 타임아웃 → 성공** |
| `generate_signature` | ✅ 성공 | **91ms** | 65 bytes | YARA 규칙 |
| `generate_yara_rule` | ✅ 성공 | **81ms** | 129 bytes | YARA 규칙 |
| `disassemble_with_capstone` | ✅ 성공 | **293ms** | - | 디스어셈블 |

**성공한 도구 평균 실행 시간**: 약 **7,500ms** (타임아웃 도구 제외 시 약 1,200ms)

### 2.2 타임아웃 발생 도구 (총 7개)

| 도구명 | 상태 | 타임아웃 시간 | 이전 상태 | 변화 |
|--------|------|-------------|----------|------|
| `match_libraries` | ❌ 타임아웃 | **81초** | 타임아웃 | 동일 |
| `get_pseudo_code` | ❌ 타임아웃 | **81초** | 타임아웃 | 동일 |
| `smart_decompile` | ❌ 타임아웃 | **81초** | 타임아웃 | 동일 |
| `analyze_xrefs` | ❌ 타임아웃 | **81초** | 타임아웃 | 동일 |
| `extract_rtti_info` | ❌ 타임아웃 | **81초** | 타임아웃 | 동일 |
| `generate_function_graph` | ❌ 타임아웃 | **81초** | 타임아웃 | 동일 |
| `emulate_machine_code` | ❌ 타임아웃 | **81초** | 타임아웃 | 동일 |

---

## 3. 성능 개선 상세 분석

### 3.1 이전 타임아웃 → 현재 성공 (3개 도구) ⭐ **주요 개선 사항**

#### ✅ `run_radare2` (ii) - 임포트 함수 분석
- **이전**: ❌ 타임아웃 (81초)
- **현재**: ✅ 성공 (**29,032ms** = 약 29초)
- **개선율**: **64% 개선** (52초 단축)
- **결과**: 22,573 bytes의 임포트 함수 목록 추출 성공
- **평가**: 대용량 파일에서도 임포트 분석이 가능해짐

#### ✅ `run_radare2` (afl) - 함수 목록 분석
- **이전**: ❌ 타임아웃 (81초)
- **현재**: ✅ 성공 (**20,355ms** = 약 20초)
- **개선율**: **75% 개선** (61초 단축)
- **결과**: 3개 함수 발견 (entry0, main, fcn.007500d0)
- **평가**: 함수 목록 추출 성능 대폭 향상

#### ✅ `run_radare2` (pdf) - 디스어셈블
- **이전**: ❌ 타임아웃 (81초)
- **현재**: ✅ 성공 (**32,652ms** = 약 33초)
- **개선율**: **59% 개선** (48초 단축)
- **결과**: 엔트리 포인트 디스어셈블 성공
- **평가**: 디스어셈블 성능 향상

### 3.2 성능 변화가 있는 기존 도구

#### ✅ `run_file` - 31ms ⭐ **개선됨**
- **이전**: 46ms
- **현재**: 31ms
- **개선율**: **33% 개선** (15ms 단축)

#### ⚠️ `parse_binary_with_lief` - 6,843ms
- **이전**: 412ms
- **현재**: 6,843ms
- **변화**: 약 16배 느려짐
- **원인**: 대용량 파일(10.64 MB)의 복잡한 PE 구조 분석
- **평가**: 대용량 파일 처리 시 성능 저하

#### ⚠️ `run_binwalk` - 1,423ms
- **이전**: 694ms
- **현재**: 1,423ms
- **변화**: 약 2배 느려짐
- **원인**: 대용량 파일의 시그니처 스캔
- **평가**: 정상 범위

### 3.3 여전히 타임아웃인 도구 (7개)

다음 도구들은 여전히 81초 타임아웃으로 실패했습니다:

1. **`match_libraries`**: 라이브러리 시그니처 매칭
2. **`get_pseudo_code`**: 의사 코드 생성
3. **`smart_decompile`**: 스마트 디컴파일
4. **`analyze_xrefs`**: 크로스 레퍼런스 분석
5. **`extract_rtti_info`**: RTTI 정보 추출
6. **`generate_function_graph`**: 제어 흐름 그래프 생성
7. **`emulate_machine_code`**: 코드 에뮬레이션

**원인 분석**:
- 더 복잡한 분석 작업
- 더 많은 계산 리소스 필요
- 추가 최적화 필요

---

## 4. 성능 개선 통계

### 4.1 성공률 변화

| 항목 | 이전 | 현재 | 변화 |
|------|------|------|------|
| 성공한 도구 | 10개 | **13개** | **+3개** |
| 타임아웃 도구 | 10개 | **7개** | **-3개** |
| 성공률 | 50% | **65%** | **+15%p** |

### 4.2 실행 시간 비교

#### 빠른 도구 (100ms 미만)
- `list_workspace`: 13ms
- `run_file`: 31ms (이전 46ms → 33% 개선)
- `generate_yara_rule`: 81ms
- `generate_signature`: 91ms

#### 중간 속도 도구 (100ms - 1초)
- `run_radare2` (iz): 116ms
- `run_radare2` (ie): 120ms
- `disassemble_with_capstone`: 293ms

#### 느린 도구 (1초 - 10초)
- `run_binwalk`: 1,423ms (이전 694ms)
- `parse_binary_with_lief`: 6,843ms (이전 412ms)

#### 느린 도구 (1초 - 1분)
- `run_radare2` (afl): **20,355ms** (20초) ⚡ **이전 타임아웃 → 성공**
- `run_radare2` (ii): **29,032ms** (29초) ⚡ **이전 타임아웃 → 성공**
- `run_radare2` (pdf): **32,652ms** (33초) ⚡ **이전 타임아웃 → 성공**

### 4.3 시간 절약 효과

**이전 버전**:
- 3개 도구 타임아웃: 243초 (81초 × 3)
- 결과: 실패

**현재 버전**:
- 3개 도구 성공: 82초 (20 + 29 + 33)
- 결과: 성공

**총 절약 시간**: **161초 (약 2분 41초)**

---

## 5. 도구별 상세 분석

### 5.1 파일 메타데이터 분석

#### ✅ `list_workspace` - 13ms
- **평가**: 매우 빠름
- **변화**: 이전 11ms → 13ms (약간 느려짐, 정상 범위)

#### ✅ `run_file` - 31ms ⭐ **개선됨**
- **평가**: 빠름
- **변화**: 이전 46ms → 31ms (**33% 개선**)
- **평가**: 성능 향상

#### ✅ `parse_binary_with_lief` - 6,843ms
- **평가**: 느림
- **변화**: 이전 412ms → 6,843ms (약 16배 느려짐)
- **원인**: 대용량 파일(10.64 MB)의 복잡한 PE 구조 분석
- **평가**: 대용량 파일 처리 시 성능 저하

### 5.2 Radare2 분석 도구

#### ✅ `run_radare2` (ie) - 120ms
- **평가**: 빠름
- **변화**: 없음

#### ✅ `run_radare2` (iz) - 116ms
- **평가**: 빠름
- **변화**: 없음

#### ✅ `run_radare2` (ii) - 29,032ms ⭐ **개선됨**
- **이전**: ❌ 타임아웃 (81초)
- **현재**: ✅ 성공 (29초)
- **개선**: **64% 개선**
- **결과**: 22,573 bytes의 임포트 함수 목록 추출
- **평가**: 대용량 파일에서도 임포트 분석 성공

#### ✅ `run_radare2` (afl) - 20,355ms ⭐ **개선됨**
- **이전**: ❌ 타임아웃 (81초)
- **현재**: ✅ 성공 (20초)
- **개선**: **75% 개선**
- **결과**: 3개 함수 발견
- **평가**: 함수 목록 추출 성능 대폭 향상

#### ✅ `run_radare2` (pdf) - 32,652ms ⭐ **개선됨**
- **이전**: ❌ 타임아웃 (81초)
- **현재**: ✅ 성공 (33초)
- **개선**: **59% 개선**
- **결과**: 엔트리 포인트 디스어셈블 성공
- **평가**: 디스어셈블 성능 향상

### 5.3 여전히 타임아웃인 도구

#### ❌ `match_libraries` - 타임아웃 (81초)
- **상태**: 여전히 타임아웃
- **원인**: 많은 함수 시그니처 매칭 작업
- **개선 필요**: 샘플링 기반 매칭 또는 병렬 처리

#### ❌ `get_pseudo_code` - 타임아웃 (81초)
- **상태**: 여전히 타임아웃
- **원인**: 복잡한 코드 분석
- **개선 필요**: 더 작은 함수에 대해 시도

#### ❌ `smart_decompile` - 타임아웃 (81초)
- **상태**: 여전히 타임아웃
- **원인**: 복잡한 디컴파일 작업
- **개선 필요**: 최적화된 디컴파일 알고리즘

#### ❌ `analyze_xrefs` - 타임아웃 (81초)
- **상태**: 여전히 타임아웃
- **원인**: 많은 참조 관계 분석
- **개선 필요**: 점진적 분석 또는 샘플링

#### ❌ `extract_rtti_info` - 타임아웃 (81초)
- **상태**: 여전히 타임아웃
- **원인**: 복잡한 RTTI 분석
- **개선 필요**: 최적화된 RTTI 파싱

#### ❌ `generate_function_graph` - 타임아웃 (81초)
- **상태**: 여전히 타임아웃
- **원인**: 복잡한 제어 흐름 분석
- **개선 필요**: 더 작은 함수에 대해 시도

#### ❌ `emulate_machine_code` - 타임아웃 (81초)
- **상태**: 여전히 타임아웃
- **원인**: 복잡한 코드 또는 무한 루프 가능성
- **개선 필요**: 더 적은 명령어 수로 시도

---

## 6. 성능 개선 요약

### 6.1 주요 개선 사항

1. **Radare2 분석 성능 향상**
   - `ii` (임포트): 타임아웃 → 29초 성공
   - `afl` (함수 목록): 타임아웃 → 20초 성공
   - `pdf` (디스어셈블): 타임아웃 → 33초 성공

2. **성공률 향상**
   - 50% → 65% (+15%p)

3. **시간 절약**
   - 161초 (약 2분 41초) 절약

### 6.2 개선 필요 사항

1. **복잡한 분석 작업**
   - 라이브러리 매칭
   - 디컴파일
   - 크로스 레퍼런스 분석
   - RTTI 추출
   - 그래프 생성
   - 코드 에뮬레이션

2. **최적화 방향**
   - 병렬 처리
   - 샘플링 기반 분석
   - 점진적 분석
   - 캐싱 메커니즘

---

## 7. 결론

### 7.1 성능 개선 평가

**긍정적 측면**:
- ✅ 3개 도구가 타임아웃에서 성공으로 전환
- ✅ 성공률 15%p 향상 (50% → 65%)
- ✅ 161초 시간 절약
- ✅ 대용량 파일 분석 가능성 향상

**개선 필요 측면**:
- ⚠️ 7개 도구 여전히 타임아웃
- ⚠️ 복잡한 분석 작업의 추가 최적화 필요

**전체 평가**: ⭐⭐⭐⭐ (4/5)
- 성능 개선: ⭐⭐⭐⭐⭐ (주요 도구 성공)
- 기능 완성도: ⭐⭐⭐⭐
- 사용 편의성: ⭐⭐⭐⭐

### 7.2 다음 단계

1. **복잡한 분석 작업 최적화**
   - 라이브러리 매칭 성능 향상
   - 디컴파일 알고리즘 최적화
   - 크로스 레퍼런스 분석 개선

2. **병렬 처리 도입**
   - 독립적인 작업 병렬 실행
   - 멀티스레딩 활용

3. **점진적 분석 옵션**
   - 샘플링 기반 분석
   - 특정 섹션만 분석

---

## 부록: 실행 시간 데이터 상세

### 성공한 도구 실행 시간 (빠른 순)

1. `list_workspace`: 13ms
2. `run_file`: 31ms (이전 46ms → 33% 개선)
3. `generate_yara_rule`: 81ms
4. `generate_signature`: 91ms
5. `run_radare2` (iz): 116ms
6. `run_radare2` (ie): 120ms
7. `disassemble_with_capstone`: 293ms
8. `run_binwalk`: 1,423ms (이전 694ms)
9. `parse_binary_with_lief`: 6,843ms (이전 412ms)
10. `run_radare2` (afl): **20,355ms** ⭐ (이전 타임아웃 → 성공)
11. `run_radare2` (ii): **29,032ms** ⭐ (이전 타임아웃 → 성공)
12. `run_radare2` (pdf): **32,652ms** ⭐ (이전 타임아웃 → 성공)

### 타임아웃 발생 도구 (81초)

1. `match_libraries`
2. `get_pseudo_code`
3. `smart_decompile`
4. `analyze_xrefs`
5. `extract_rtti_info`
6. `generate_function_graph`
7. `emulate_machine_code`

---

---

## 9. 실행 시간 측정 요약표

### 9.1 모든 도구 실행 시간 (빠른 순)

| 순위 | 도구명 | 실행 시간 | 상태 | 비고 |
|------|--------|----------|------|------|
| 1 | `list_workspace` | **13ms** | ✅ 성공 | 매우 빠름 |
| 2 | `run_file` | **31ms** | ✅ 성공 | 개선됨 (이전 46ms) |
| 3 | `generate_yara_rule` | **81ms** | ✅ 성공 | 빠름 |
| 4 | `generate_signature` | **91ms** | ✅ 성공 | 빠름 |
| 5 | `run_radare2` (iz) | **116ms** | ✅ 성공 | 빠름 |
| 6 | `run_radare2` (ie) | **120ms** | ✅ 성공 | 빠름 |
| 7 | `disassemble_with_capstone` | **293ms** | ✅ 성공 | 적절함 |
| 8 | `run_binwalk` | **1,423ms** | ✅ 성공 | 느려짐 (이전 694ms) |
| 9 | `parse_binary_with_lief` | **6,843ms** | ✅ 성공 | 느려짐 (이전 412ms) |
| 10 | `run_radare2` (afl) | **20,355ms** | ✅ 성공 | ⭐ 이전 타임아웃 → 성공 |
| 11 | `run_radare2` (ii) | **29,032ms** | ✅ 성공 | ⭐ 이전 타임아웃 → 성공 |
| 12 | `run_radare2` (pdf) | **32,652ms** | ✅ 성공 | ⭐ 이전 타임아웃 → 성공 |
| - | `match_libraries` | **81,000ms** | ❌ 타임아웃 | 여전히 타임아웃 |
| - | `get_pseudo_code` | **81,000ms** | ❌ 타임아웃 | 여전히 타임아웃 |
| - | `smart_decompile` | **81,000ms** | ❌ 타임아웃 | 여전히 타임아웃 |
| - | `analyze_xrefs` | **81,000ms** | ❌ 타임아웃 | 여전히 타임아웃 |
| - | `extract_rtti_info` | **81,000ms** | ❌ 타임아웃 | 여전히 타임아웃 |
| - | `generate_function_graph` | **81,000ms** | ❌ 타임아웃 | 여전히 타임아웃 |
| - | `emulate_machine_code` | **81,000ms** | ❌ 타임아웃 | 여전히 타임아웃 |

### 9.2 성능 개선 도구 Top 3

1. **`run_radare2` (afl)**: 타임아웃 → 20.4초 성공 (61초 단축)
2. **`run_radare2` (ii)**: 타임아웃 → 29.0초 성공 (52초 단축)
3. **`run_radare2` (pdf)**: 타임아웃 → 32.7초 성공 (48초 단축)

### 9.3 성능 저하 도구

1. **`parse_binary_with_lief`**: 412ms → 6,843ms (16배 느려짐)
2. **`run_binwalk`**: 694ms → 1,423ms (2배 느려짐)

**원인**: 대용량 파일(10.64 MB) 처리 시 성능 저하

---

**리포트 작성일**: 2025-11-20  
**분석 대상**: EverPlanet_KR_v1842_U_DEVM.exe (10.64 MB)  
**MCP 서버 버전**: 업데이트 버전 (속도 개선)  
**테스트 목적**: MCP 서버 성능 테스트 (게임 클라이언트 분석 아님)
